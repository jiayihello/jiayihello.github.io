<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start --><script>
                    (() => {
                        const sw = navigator.serviceWorker
                        const error = () => console.error('Service Worker 注册失败！可能是由于您的浏览器不支持该功能！')
                        if (!sw?.register('/sw.js')
                            
                            ?.catch(error)
                            ) error()
                    })()
                </script><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程） | 文一刀</title><meta name="keywords" content="Cloudflare"><meta name="author" content="First"><meta name="copyright" content="First"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）"><meta name="application-name" content="自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）"><meta property="og:url" content="http://example.com/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/index.html"><meta property="og:site_name" content="文一刀"><meta property="og:description" content="一、获取 API 令牌任何 API 操作都需要提供账号邮箱和 API 令牌用来验证身份。  前往 Cloudflare API 令牌页面。 点击 Global API Key 后面的 [查看] 按钮。 输入 Cloudflare 账号的 密码 ，并通过人机验证。 点击复制 API 令牌并保存好。"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3tmuHmDTzxCoP6Ee_ghb8pxlPLf3AACihQAAg4EyFU8gIBwIY-PSDUE"><meta property="article:author" content="First"><meta property="article:tag" content="文一刀"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3tmuHmDTzxCoP6Ee_ghb8pxlPLf3AACihQAAg4EyFU8gIBwIY-PSDUE"><meta name="description" content="一、获取 API 令牌任何 API 操作都需要提供账号邮箱和 API 令牌用来验证身份。  前往 Cloudflare API 令牌页面。 点击 Global API Key 后面的 [查看] 按钮。 输入 Cloudflare 账号的 密码 ，并通过人机验证。 点击复制 API 令牌并保存好。"><link rel="shortcut icon" href="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAxFmsZ_uZ3zpc9D-aK2g0ojIPoW0QAACcw8AAiRFkFW9bDbDDTZNCDUE"><link rel="canonical" href="http://example.com/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"/><link rel="mask-icon" href="/img/siteicon/apple-icon-180.png" color="#5bbad5"/><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/img/siteicon/apple-icon-180.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/16.png"/><link rel="bookmark" href="/img/siteicon/apple-icon-180.png"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-1N45T8T0T3"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1N45T8T0T3');
</script><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: undefined,
  postHeadAiDescription: undefined,
  diytitle: undefined,
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":1},
  friends_vue_info: {"apiurl":"https://friends.anheyu.com/"},
  navMusic: true,
  mainTone: {"mode":"api","api":"https://img2color-go.vercel.app/api?img=","cover_change":true},
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":true,"limitCount":50,"languages":{"author":"作者: First","link":"链接: ","source":"来源: 文一刀","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '文一刀',
  title: '自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）',
  postAI: '',
  pageFillDescription: '一、获取 API 令牌, 二、准备依赖, Linux 系统, 三、获取域名 ID, Linux 系统, 四、查找域名 ID, 五、获取域名解析记录 ID,  Linux 系统, 六、查找域名的解析记录 ID, 七、更新域名解析记录,  Linux 系统, 八、成功？失败？, 九、关于命令中的 JSON 数据说明, 十、自动更新脚本,  Linux 系统,  其他说明, 十一、定时任务,  Linux 系统,  安装 Cron,  配置 Cron一获取令牌任何操作都需要提供账号邮箱和令牌用来验证身份前往令牌页面点击后面的查看按钮输入账号的密码并通过人机验证点击复制令牌并保存好二准备依赖我比较习惯用来提交数据所以以下用的都是命令系统虽然大部分的系统都自带了但是还是提前检查一下是否已安装如果提示没找到命令那么就需要手动安装了系统系统三获取域名域名指的是你在中托管一级顶级域名的如而不是子域名注意以下的命令都是一个整体修改后要一起粘贴运行和符号是命令分行用的这样写方便大家理解系统账号邮箱前面获取的令牌四查找域名运行命令后会输出一大串内容因为没有经过格式化所以看起毫无可读性可以随便找个在线格式化网站复制内容到左边输入框中即可在右边看到格式化后的内容然后找到以下内容注意复制内容去格式化的时候别复制错了是以开头以结尾的域名托管在的顶级一级域名保存好这个域名后面还需要用到五获取域名解析记录域名解析记录指的是域名解析的完整子域名的完整子域名如而不是注意以下的命令都是一个整体修改后要一起粘贴运行和符号是命令分行用的这样写方便大家理解系统域名账号邮箱前面获取的令牌六查找域名的解析记录运行命令后会输出一大串内容因为没有经过格式化所以看起毫无可读性可以随便找个在线格式化网站复制内容到左边输入框中即可在右边看到格式化后的内容然后找到以下内容注意复制内容去格式化的时候别复制错了是以开头以结尾的域名解析记录所属的域名所属的顶级一级域名完整子域名解析记录类型解析地址是否走代理是否解析记录生存时间值为则是自动单位秒保存好这些信息后面还需要用到七更新域名解析记录即修改指定子域名的解析记录信息注意以下的命令都是一个整体修改后要一起粘贴运行和符号是命令分行用的这样写方便大家理解系统域名解析记录账号邮箱前面获取的令牌最快如果你只需要更新该域名解析记录中单独一个信息上面那个只能同时设置域名解析记录的所有信息那么可以改成这样域名解析记录账号邮箱前面获取的令牌最快八成功失败运行命令后会输出的一大串内容在其末尾看到如果写的是则说明成功如果写的是则说明失败原因会在后面的中说明九关于命令中的数据说明指的就是更新解析记录命令中的这段内容最快名称示例说明解析记录类型如完整的域名不能只写子域名名称最长个字符解析地址解析记录生存时间值为则是自动单位秒是否走代理是否十自动更新脚本因为时间优先我就先简单的写了两个脚本可能比较简陋所以有什么建议可以跟我说系统脚本以内置到压缩包内了只需要赋予其执行权限即可然后复制以下内容修改后一起粘贴运行即可生成配置文件配置文件说明变量名值测速程序所在路径域名域名解析记录账号邮箱令牌解析记录类型完整域名解析记录生存时间值为代表自动单位秒是否走代理是否然后运行脚本试试看其他说明以上脚本只是一个示例大家可以按需修改比如在后面添加其他参数如果是在路由器上面跑该脚本如请先关闭路由器内的代理否则测速结果会不准确十一定时任务系统自然要用来定时执行脚本安装一般各系统都自带了执行命令如果提示命令不存在说明没有安装反之则跳过该步骤确认你是哪个系统然后选择对应的命令安装程序系统系统配置开始编辑定时任务首次使用可能会提示你如下内容这就是让你选一个文本编辑器新手建议用默认的直接回车即可然后就会看到一大片的文本不用管那些只是注释井号开头的都是注释写的是使用方法如果你选的是编辑器那么可以直接开始编辑了如果你选的是编辑器则需要按下键进入编辑模式定时任务格式其实很简单星期中星期几星期天为月份一个月中的第几天小时分钟还是看不懂没关系我直接给你几个示例脚本下载假设脚本位于目录下其他位置自己改下面示例那么每天凌晨点分执行一次脚本每天凌晨点分执行一次脚本每个小时分时执行一次脚本每小时分执行一次脚本写入后保存定时任务按下键按下键按下回车键即可保存按下键退出编辑模式直接输入并回车英文模式下即可保存这时候再去查看定时任务看看是否保存成功',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-08-12 07:39:40',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><!-- hexo injector head_end start --><script defer src="/sw-dom.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://pict.399699.xyz/d/CAACAgUAAx0Ea55INgACA8dmxVZRdYGpsxjqqiFZVAOEMqlgLgACSxAAAiKFKFYF4Wxv3uRCjzUE"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://oior.net/" title="博客(Typecho系统)"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://oior.net/img/favicon.png" alt="博客(Typecho系统)"/><span class="back-menu-item-text">博客(Typecho系统)</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">其他</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://disk.399699.xyz/" title="网盘"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA8tmxViib-Bpt4IBsvCmPPo1MLaNLwACUxAAAiKFKFZ15JfRYFeCTDUE" alt="网盘"/><span class="back-menu-item-text">网盘</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://picture.399699.xyz/" title="图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA8xmxVi_5aq1eozG9prwluJEnpK-owACVBAAAiKFKFaqVEKUvwrD9jUE" alt="图床"/><span class="back-menu-item-text">图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">文一刀</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.05rem;">AI<sup>1</sup></a><a href="/tags/Aria2/" style="font-size: 1.05rem;">Aria2<sup>1</sup></a><a href="/tags/Chevereto/" style="font-size: 1.05rem;">Chevereto<sup>1</sup></a><a href="/tags/CloudFlar/" style="font-size: 1.05rem;">CloudFlar<sup>2</sup></a><a href="/tags/Cloudflare/" style="font-size: 1.05rem;">Cloudflare<sup>3</sup></a><a href="/tags/Doprax/" style="font-size: 1.05rem;">Doprax<sup>1</sup></a><a href="/tags/Heroku/" style="font-size: 1.05rem;">Heroku<sup>1</sup></a><a href="/tags/Koyeb/" style="font-size: 1.05rem;">Koyeb<sup>1</sup></a><a href="/tags/MTP/" style="font-size: 1.05rem;">MTP<sup>1</sup></a><a href="/tags/PagerMaid-Pyro/" style="font-size: 1.05rem;">PagerMaid-Pyro<sup>1</sup></a><a href="/tags/Quartus-II/" style="font-size: 1.05rem;">Quartus II<sup>1</sup></a><a href="/tags/Rclone/" style="font-size: 1.05rem;">Rclone<sup>1</sup></a><a href="/tags/Silvaco/" style="font-size: 1.05rem;">Silvaco<sup>1</sup></a><a href="/tags/Telegram/" style="font-size: 1.05rem;">Telegram<sup>1</sup></a><a href="/tags/Verilog/" style="font-size: 1.05rem;">Verilog<sup>1</sup></a><a href="/tags/Virtualizor/" style="font-size: 1.05rem;">Virtualizor<sup>1</sup></a><a href="/tags/WHMCS/" style="font-size: 1.05rem;">WHMCS<sup>1</sup></a><a href="/tags/hexo/" style="font-size: 1.05rem;">hexo<sup>1</sup></a><a href="/tags/modelsim/" style="font-size: 1.05rem;">modelsim<sup>1</sup></a><a href="/tags/modelsim-altera/" style="font-size: 1.05rem;">modelsim-altera<sup>1</sup></a><a href="/tags/%E4%BC%98%E9%80%89IP/" style="font-size: 1.05rem;">优选IP<sup>4</sup></a><a href="/tags/%E5%9B%BE%E5%BA%8A/" style="font-size: 1.05rem;">图床<sup>1</sup></a><a href="/tags/%E5%A4%87%E4%BB%BD/" style="font-size: 1.05rem;">备份<sup>1</sup></a><a href="/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/" style="font-size: 1.05rem;">机器人<sup>1</sup></a><a href="/tags/%E6%A0%A1%E5%9B%AD%E7%BD%91/" style="font-size: 1.05rem;">校园网<sup>2</sup></a><a href="/tags/%E8%84%9A%E6%9C%AC/" style="font-size: 1.05rem;">脚本<sup>1</sup></a><a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 1.05rem;">视频<sup>1</sup></a><a href="/tags/%E8%AE%B0%E4%BA%8B%E6%9C%AC/" style="font-size: 1.05rem;">记事本<sup>1</sup></a><a href="/tags/%E8%BD%AC%E5%8F%91/" style="font-size: 1.05rem;">转发<sup>1</sup></a><a href="/tags/%E9%87%87%E8%AE%BF/" style="font-size: 1.05rem;">采访<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">八月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">10</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%8A%A0%E5%AF%86%E7%AC%94%E8%AE%B0/" itemprop="url">加密笔记</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Cloudflare/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Cloudflare</span></a></span></div></div><h1 class="post-title" itemprop="name headline">自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-01-13T03:48:00.000Z" title="发表于 2024-01-13 11:48:00">2024-01-13</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-08-11T23:39:40.689Z" title="更新于 2024-08-12 07:39:40">2024-08-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">2.2k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>8分钟</span></span><span class="post-meta-separator"></span><span id="" data-flag-title="自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span class="waline-pageview-count" data-path="/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/" title="访问量"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为China"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>China</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3tmuHmDTzxCoP6Ee_ghb8pxlPLf3AACihQAAg4EyFU8gIBwIY-PSDUE"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/"><header><a class="post-meta-categories" href="/categories/%E5%8A%A0%E5%AF%86%E7%AC%94%E8%AE%B0/" itemprop="url">加密笔记</a><a href="/tags/Cloudflare/" tabindex="-1" itemprop="url">Cloudflare</a><h1 id="CrawlerTitle" itemprop="name headline">自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">First</span><time itemprop="dateCreated datePublished" datetime="2024-01-13T03:48:00.000Z" title="发表于 2024-01-13 11:48:00">2024-01-13</time><time itemprop="dateCreated datePublished" datetime="2024-08-11T23:39:40.689Z" title="更新于 2024-08-12 07:39:40">2024-08-12</time></header><h2 id="一、获取-API-令牌"><a href="#一、获取-API-令牌" class="headerlink" title="一、获取 API 令牌"></a>一、获取 API 令牌</h2><p>任何 API 操作都需要提供账号邮箱和 API 令牌用来验证身份。</p>
<ol>
<li>前往 <a target="_blank" rel="noopener" href="https://dash.cloudflare.com/profile/api-tokens">Cloudflare API 令牌</a>页面。</li>
<li>点击 <code>Global API Key</code> 后面的 <strong>[查看]</strong> 按钮。</li>
<li>输入 Cloudflare 账号的 <strong>密码</strong> ，并通过人机验证。</li>
<li>点击复制 <strong>API 令牌</strong>并保存好。</li>
</ol>
<h2 id="二、准备依赖"><a href="#二、准备依赖" class="headerlink" title="二、准备依赖"></a>二、准备依赖</h2><p>我比较习惯用 cURL 来 POST 提交数据，所以以下用的都是 cURL 命令。</p>
<h3 id="Linux-系统"><a href="#Linux-系统" class="headerlink" title="Linux 系统"></a>Linux 系统</h3><p>虽然大部分的 Linux 系统都自带了 cURL，但是还是提前检查一下是否已安装：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl --help</span><br></pre></td></tr></table></figure>

<p>如果提示没找到命令，那么就需要手动安装了：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># CentOS 系统</span><br><span class="line">yum install -y curl</span><br><span class="line"></span><br><span class="line"># Debian/Ubuntu 系统</span><br><span class="line">apt-get install -y curl</span><br></pre></td></tr></table></figure>

<h2 id="三、获取域名-ID"><a href="#三、获取域名-ID" class="headerlink" title="三、获取域名 ID"></a>三、获取域名 ID</h2><p><strong>域名 ID</strong> 指的是你在 Cloudflare 中托管<strong>一级&#x2F;顶级域名</strong>的 ID（如 <code>xxx.yyy</code>，而不是子域名）。</p>
<blockquote>
<p><strong>注意</strong> ：以下的 <strong>命令都是一个整体</strong> ，修改后要 <strong>一起粘贴、运行</strong> ，<code>\</code> 和 <code>^</code> 符号是命令分行用的，这样写方便大家理解。</p>
</blockquote>
<h3 id="Linux-系统-1"><a href="#Linux-系统-1" class="headerlink" title="Linux 系统"></a>Linux 系统</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -X GET &quot;https://api.cloudflare.com/client/v4/zones&quot; \</span><br><span class="line">-H &quot;X-Auth-Email: 账号邮箱&quot; \</span><br><span class="line">-H &quot;X-Auth-Key: 前面获取的 API 令牌&quot; \</span><br><span class="line">-H &quot;Content-Type: application/json&quot;</span><br></pre></td></tr></table></figure>

<h2 id="四、查找域名-ID"><a href="#四、查找域名-ID" class="headerlink" title="四、查找域名 ID"></a>四、查找域名 ID</h2><p>运行命令后，会输出一大串 JSON 内容，因为没有经过格式化，所以看起毫无可读性，可以随便找个<a target="_blank" rel="noopener" href="https://www.bejson.com/explore/index_new/">在线 JSON 格式化</a>网站，复制 JSON 内容到<strong>左边输入框</strong>中即可在右边看到格式化后的 JSON 内容，然后 <strong>找到以下内容</strong> ：</p>
<blockquote>
<p><strong>注意</strong> ：复制 JSON 内容去格式化的时候，别复制错了，JSON 是以 <code>&#123;</code> 开头，以 <code>&#125;</code> 结尾的。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;id&quot;: &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;,</span><br><span class="line">&quot;name&quot;: &quot;yyy.zzz&quot;,</span><br><span class="line">&quot;status&quot;: &quot;active&quot;,</span><br></pre></td></tr></table></figure>


<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>id</strong></td>
<td>域名 ID</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>托管在 Cloudflare 的（顶级&#x2F;一级）域名</td>
</tr>
<tr>
<td>保存好这个<strong>域名 ID</strong> ，后面还需要用到。</td>
<td></td>
</tr>
</tbody></table>
<h2 id="五、获取域名解析记录-ID"><a href="#五、获取域名解析记录-ID" class="headerlink" title="五、获取域名解析记录 ID"></a>五、获取域名解析记录 ID</h2><p><strong>域名解析记录 ID</strong> 指的是域名解析的<strong>完整子域名</strong>的 ID（完整子域名如 <code>xxx.yyy.zzz</code>，而不是 <code>yyy.zzz</code>）。</p>
<blockquote>
<p><strong>注意</strong> ：以下的 <strong>命令都是一个整体</strong> ，修改后要 <strong>一起粘贴、运行</strong> ，<code>\</code> 和 <code>^</code> 符号是命令分行用的，这样写方便大家理解。</p>
</blockquote>
<h3 id="Linux-系统-2"><a href="#Linux-系统-2" class="headerlink" title="## Linux 系统"></a>## Linux 系统</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -X GET &quot;https://api.cloudflare.com/client/v4/zones/域名ID/dns_records?page=1&amp;per_page=20&amp;order=type&amp;direction=asc&quot; \</span><br><span class="line">-H &quot;X-Auth-Email: 账号邮箱&quot; \</span><br><span class="line">-H &quot;X-Auth-Key: 前面获取的 API 令牌&quot; \</span><br><span class="line">-H &quot;Content-Type: application/json&quot;</span><br></pre></td></tr></table></figure>

<h2 id="六、查找域名的解析记录-ID"><a href="#六、查找域名的解析记录-ID" class="headerlink" title="六、查找域名的解析记录 ID"></a>六、查找域名的解析记录 ID</h2><p>运行命令后，会输出一大串 JSON 内容，因为没有经过格式化，所以看起毫无可读性，可以随便找个<a target="_blank" rel="noopener" href="https://www.bejson.com/explore/index_new/">在线 JSON 格式化</a>网站，复制 JSON 内容到<strong>左边输入框</strong>中即可在右边看到格式化后的 JSON 内容，然后 <strong>找到以下内容</strong> ：</p>
<blockquote>
<p><strong>注意</strong> ：复制 JSON 内容去格式化的时候，别复制错了，JSON 是以 <code>&#123;</code> 开头，以 <code>&#125;</code> 结尾的。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&quot;id&quot;:&quot;yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy&quot;,</span><br><span class="line">&quot;zone_id&quot;:&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;,</span><br><span class="line">&quot;zone_name&quot;:&quot;yyy.zzz&quot;,</span><br><span class="line">&quot;name&quot;:&quot;xxx.yyy.zzz&quot;,</span><br><span class="line">&quot;type&quot;:&quot;A&quot;,</span><br><span class="line">&quot;content&quot;:&quot;X.X.X.X&quot;,</span><br><span class="line">&quot;proxied&quot;:true,</span><br><span class="line">&quot;ttl&quot;:1,</span><br></pre></td></tr></table></figure>


<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>id</strong></td>
<td>域名解析记录 ID</td>
</tr>
<tr>
<td><strong>zone_id</strong></td>
<td>所属的域名 ID</td>
</tr>
<tr>
<td><strong>zone_name</strong></td>
<td>所属的（顶级&#x2F;一级）域名</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>完整（子）域名</td>
</tr>
<tr>
<td><strong>type</strong></td>
<td>解析记录类型</td>
</tr>
<tr>
<td><strong>content</strong></td>
<td>解析 IP 地址</td>
</tr>
<tr>
<td><strong>proxied</strong></td>
<td>是否走 CDN 代理，是：true，否：false</td>
</tr>
<tr>
<td><strong>ttl</strong></td>
<td>解析记录生存时间，值为 1 则是自动，单位：秒</td>
</tr>
<tr>
<td>保存好这些信息，后面还需要用到。</td>
<td></td>
</tr>
</tbody></table>
<h2 id="七、更新域名解析记录"><a href="#七、更新域名解析记录" class="headerlink" title="七、更新域名解析记录"></a>七、更新域名解析记录</h2><p>即修改指定子域名的解析记录信息。</p>
<blockquote>
<p><strong>注意</strong> ：以下的 <strong>命令都是一个整体</strong> ，修改后要 <strong>一起粘贴、运行</strong> ，<code>\</code> 和 <code>^</code> 符号是命令分行用的，这样写方便大家理解。</p>
</blockquote>
<h3 id="Linux-系统-3"><a href="#Linux-系统-3" class="headerlink" title="## Linux 系统"></a>## Linux 系统</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -X PUT &quot;https://api.cloudflare.com/client/v4/zones/域名ID/dns_records/解析记录ID&quot; \</span><br><span class="line">-H &quot;X-Auth-Email: 账号邮箱&quot; \</span><br><span class="line">-H &quot;X-Auth-Key: 前面获取的 API 令牌&quot; \</span><br><span class="line">-H &quot;Content-Type: application/json&quot; \</span><br><span class="line">--data &#x27;&#123;&quot;type&quot;:&quot;A&quot;,&quot;name&quot;:&quot;xxx.yyy.zzz&quot;,&quot;content&quot;:&quot;最快 IP&quot;,&quot;ttl&quot;:1,&quot;proxied&quot;:true&#125;&#x27;</span><br><span class="line"></span><br><span class="line"># 如果你只需要更新该域名解析记录中单独 “一个” 信息（上面那个只能同时设置域名解析记录的所有信息），那么可以改成这样：</span><br><span class="line"></span><br><span class="line">curl -X PATCH &quot;https://api.cloudflare.com/client/v4/zones/域名ID/dns_records/解析记录ID&quot; \</span><br><span class="line">-H &quot;X-Auth-Email: 账号邮箱&quot; \</span><br><span class="line">-H &quot;X-Auth-Key: 前面获取的 API 令牌&quot; \</span><br><span class="line">-H &quot;Content-Type: application/json&quot; \</span><br><span class="line">--data &#x27;&#123;&quot;content&quot;:&quot;最快 IP&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="八、成功？失败？"><a href="#八、成功？失败？" class="headerlink" title="八、成功？失败？"></a>八、成功？失败？</h2><p>运行命令后，会输出的一大串 JSON 内容，在其末尾看到，</p>
<ul>
<li>如果写的是 <code>&quot;success&quot;:true</code> 则说明 <strong>成功</strong> 。</li>
<li>如果写的是 <code>&quot;success&quot;:false</code> 则说明 <strong>失败</strong> ，原因会在后面的 <code>messages</code> 中说明。</li>
</ul>
<h2 id="九、关于命令中的-JSON-数据说明"><a href="#九、关于命令中的-JSON-数据说明" class="headerlink" title="九、关于命令中的 JSON 数据说明"></a>九、关于命令中的 JSON 数据说明</h2><p>指的就是更新解析记录命令中的这段内容：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;A&quot;</span><span class="punctuation">,</span><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;xxx.yyy.zzz&quot;</span><span class="punctuation">,</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;最快 IP&quot;</span><span class="punctuation">,</span><span class="attr">&quot;ttl&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;proxied&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">true</span></span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<hr>
<table>
<thead>
<tr>
<th>名称</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><strong>type</strong></td>
<td>A</td>
<td><strong>解析记录类型</strong> ，如：A, AAAA, CNAME, HTTPS, TXT, SRV, LOC, MX, NS, SPF, CERT, DNSKEY…</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>xxx.yyy.zzz</td>
<td><strong>完整的域名</strong> ，不能只写子域名名称，最长 255 个字符</td>
</tr>
<tr>
<td><strong>content</strong></td>
<td>127.0.0.1</td>
<td><strong>解析 IP 地址</strong> ，IPv4、IPv6</td>
</tr>
<tr>
<td><strong>ttl</strong></td>
<td>1</td>
<td><strong>解析记录生存时间</strong> ，值为 1 则是自动，单位：秒</td>
</tr>
<tr>
<td><strong>proxied</strong></td>
<td>true</td>
<td><strong>是否走 CDN 代理</strong> ，是：true，否：false</td>
</tr>
</tbody></table>
<h2 id="十、自动更新脚本"><a href="#十、自动更新脚本" class="headerlink" title="十、自动更新脚本"></a>十、自动更新脚本</h2><p>因为时间优先，我就先简单的写了两个脚本，可能比较简陋。。。所以有什么建议可以跟我说。</p>
<h3 id="Linux-系统-4"><a href="#Linux-系统-4" class="headerlink" title="## Linux 系统"></a>## Linux 系统</h3><p>脚本以内置到压缩包内了，只需要赋予其执行权限即可:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">chomd +x cfst_ddns.sh</span><br></pre></td></tr></table></figure>

<p>然后复制以下内容修改后， <strong>一起粘贴运行</strong> ，即可生成配置文件 <code>cfst_ddns.conf</code> ：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">echo -e &quot;FOLDER=/root/CloudflareST</span><br><span class="line">ZONE_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">DNS_RECORDS_ID=yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy</span><br><span class="line">EMAIL=xxx@yyy.com</span><br><span class="line">KEY=zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz</span><br><span class="line">TYPE=A</span><br><span class="line">NAME=xxx.yyy.zzz</span><br><span class="line">TTL=1</span><br><span class="line">PROXIED=true&quot; &gt; cfst_ddns.conf</span><br></pre></td></tr></table></figure>

<p><strong>配置文件说明：</strong></p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>值</th>
</tr>
</thead>
<tbody><tr>
<td><strong>FOLDER</strong></td>
<td>CloudflareST 测速程序所在路径</td>
</tr>
<tr>
<td><strong>ZONE_ID</strong></td>
<td>域名 ID</td>
</tr>
<tr>
<td><strong>DNS_RECORDS_ID</strong></td>
<td>域名解析记录 ID</td>
</tr>
<tr>
<td><strong>EMAIL</strong></td>
<td>账号邮箱</td>
</tr>
<tr>
<td><strong>KEY</strong></td>
<td>API 令牌</td>
</tr>
<tr>
<td><strong>TYPE</strong></td>
<td>解析记录类型</td>
</tr>
<tr>
<td><strong>NAME</strong></td>
<td>完整域名</td>
</tr>
<tr>
<td><strong>TTL</strong></td>
<td>解析记录生存时间，值为 1 代表自动，单位：秒</td>
</tr>
<tr>
<td><strong>PROXIED</strong></td>
<td>是否走 CDN 代理，是：true，否：false</td>
</tr>
<tr>
<td>然后运行脚本试试看：</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash cfst_ddns.sh</span><br></pre></td></tr></table></figure>

<h3 id="其他说明"><a href="#其他说明" class="headerlink" title="## 其他说明"></a>## 其他说明</h3><ul>
<li>以上脚本只是一个示例，大家可以按需修改，比如在 <code>./CloudflareST</code> 后面添加其他参数。</li>
<li>如果是在<strong>路由器</strong>上面跑该脚本（如 OpenWrt），请先 <strong>关闭路由器内的代理</strong> ，否则测速结果会不准确。</li>
</ul>
<h2 id="十一、定时任务"><a href="#十一、定时任务" class="headerlink" title="十一、定时任务"></a>十一、定时任务</h2><h3 id="Linux-系统-5"><a href="#Linux-系统-5" class="headerlink" title="## Linux 系统"></a>## Linux 系统</h3><p>Linux 自然要用 Cron 来定时执行脚本。</p>
<h4 id="安装-Cron"><a href="#安装-Cron" class="headerlink" title="### 安装 Cron"></a>### 安装 Cron</h4><p>一般各 Linux 系统都自带了 Cron，执行 <code>crontab -l</code> 命令，如果提示 <strong>命令不存在</strong> ，说明没有安装， <strong>反之则跳过该步骤</strong> 。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 确认你是哪个系统，然后选择对应的命令安装 Cron 程序。</span><br><span class="line"></span><br><span class="line"># CentOS 系统：</span><br><span class="line">yum install vixie-cron</span><br><span class="line">yum install crontabs</span><br><span class="line"></span><br><span class="line"># Debian/Ubuntu 系统：</span><br><span class="line">apt-get install cron</span><br></pre></td></tr></table></figure>

<h4 id="配置-Cron"><a href="#配置-Cron" class="headerlink" title="### 配置 Cron"></a>### 配置 Cron</h4><p>开始编辑定时任务，</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure>

<p>首次使用可能会提示你如下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 这就是让你选一个文本编辑器，新手建议用默认的 nano，直接回车即可。</span><br><span class="line"></span><br><span class="line">Select an editor.  To change later, run &#x27;select-editor&#x27;.</span><br><span class="line">  1. /bin/nano        &lt;---- easiest</span><br><span class="line">  2. /usr/bin/vim.basic</span><br><span class="line">  3. /usr/bin/vim.tiny</span><br><span class="line">  4. /bin/ed</span><br></pre></td></tr></table></figure>

<p>然后就会看到一大片的文本，不用管，那些只是注释（井号 # 开头的都是注释），写的是使用方法。</p>
<ul>
<li>如果你选的是 <strong>nano</strong> 编辑器，那么可以直接开始编辑了。</li>
<li>如果你选的是 <strong>vim</strong> 编辑器，则需要按下 <strong><code>I 键</code></strong> 进入编辑模式。<br>定时任务格式其实很简单：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*    *   *    *   * cd /xxx &amp;&amp; ./cfst_ddns.sh</span><br><span class="line">-    -   -   -   -</span><br><span class="line">|    |    |    |    |</span><br><span class="line">|    |    |    |    +----- 星期中星期几 (0 - 7) (星期天 为0)</span><br><span class="line">|    |    |    +---------- 月份 (1 - 12) </span><br><span class="line">|    |    +--------------- 一个月中的第几天 (1 - 31)</span><br><span class="line">|    +-------------------- 小时 (0 - 23)</span><br><span class="line">+------------------------- 分钟 (0 - 59) </span><br></pre></td></tr></table></figure>

<p>还是看不懂？没关系，我直接给你几个示例（<a target="_blank" rel="noopener" href="https://github.com/XIU2/CloudflareSpeedTest/issues/40#issuecomment-767474313">脚本下载</a>）：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 假设脚本位于 /root 目录下（其他位置自己改下面示例），那么：</span><br><span class="line"></span><br><span class="line"># 每天凌晨 5 点 0 分，执行一次脚本</span><br><span class="line">0 5 * * * cd /root &amp;&amp; ./cfst_ddns.sh</span><br><span class="line"></span><br><span class="line"># 每天凌晨 5 点 30 分，执行一次脚本</span><br><span class="line">30 5 * * * cd /root &amp;&amp; ./cfst_ddns.sh</span><br><span class="line"></span><br><span class="line"># 每 6 个小时（0 分时），执行一次脚本</span><br><span class="line">0 */6 * * * cd /root &amp;&amp; ./cfst_ddns.sh</span><br><span class="line"></span><br><span class="line"># 每小时 0 分，执行一次脚本</span><br><span class="line">0 * * * * cd /root &amp;&amp; ./cfst_ddns.sh</span><br></pre></td></tr></table></figure>

<p>写入后，保存定时任务：</p>
<ul>
<li><strong>nano</strong> ：按下 <code>Ctrl+X</code> 键、按下 <code>Y</code> 键、按下回车键，即可保存。</li>
<li><strong>vim</strong> ：按下 <code>Esc</code> 键退出编辑模式，直接输入 <code>:wq</code> 并回车（英文模式下），即可保存。<br>这时候再去查看定时任务，看看是否保存成功：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">crontab -l</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/CAACAgUAAx0Ea55INgACA8dmxVZRdYGpsxjqqiFZVAOEMqlgLgACSxAAAiKFKFYF4Wxv3uRCjzUE" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/CAACAgUAAx0Ea55INgACA8dmxVZRdYGpsxjqqiFZVAOEMqlgLgACSxAAAiKFKFYF4Wxv3uRCjzUE" title="头像" alt="头像"></a><div class="post-copyright__author_name">First</div><div class="post-copyright__author_desc">文字记录生活</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/')">自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=自动更新 Cloudflare 中的域名解析记录为最快 IP（Windows/Linux 脚本+手动教程）&amp;url=http://example.com/2024/01/13/%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0-cloudflare-%E4%B8%AD%E7%9A%84%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95%E4%B8%BA%E6%9C%80%E5%BF%AB-ipwindowslinux-%E8%84%9A%E6%9C%AC%E6%89%8B%E5%8A%A8%E6%95%99%E7%A8%8B/&amp;pic=https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3tmuHmDTzxCoP6Ee_ghb8pxlPLf3AACihQAAg4EyFU8gIBwIY-PSDUE" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">文一刀</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Cloudflare/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Cloudflare<span class="tagsPageCount">3</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA8Nmvcdj7dnzF_QRJ_IVhZ0enL6IHwACzQ4AAv8f6VUsYfLidNhxITUE" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/01/13/cloudflare%E4%BC%98%E9%80%89ip-%E8%87%AA%E5%8A%A8ddns-shell%E8%84%9A%E6%9C%AC/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3RmuEUcdvAuRmhdw8B5t31_sPQLCgACPhIAAg4EwFXzE6AQBVrO2TUE" onerror="onerror=null;src='https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Cloudflare优选IP 自动DDNS Shell脚本</div></div></a></div><div class="next-post pull-right"><a href="/2024/01/13/%E4%BC%98%E9%80%89ip%E8%84%9A%E6%9C%AC/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3NmuES4VPf9fokU5CxkWRjax5EjUAACPBIAAg4EwFVxJ--fJqNVCjUE" onerror="onerror=null;src='https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">优选IP脚本</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2024/05/01/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AA-cloudflare-workers-ai-telegram-%E6%9C%BA%E5%99%A8%E4%BA%BA-%E5%85%8D%E8%B4%B9%E4%B8%94%E7%A8%B3%E5%AE%9A-%E8%81%8A%E5%A4%A9amp%E7%94%BB%E5%9B%BE/" title="搭建一个 Cloudflare Workers AI Telegram 机器人 | 免费且稳定 | 聊天&amp;画图"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA2hmuDu_59lqnd1iaOcsOA5MQ2gojQACKxIAAg4EwFU2_SbowW_hajUE" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-01</div><div class="title">搭建一个 Cloudflare Workers AI Telegram 机器人 | 免费且稳定 | 聊天&amp;画图</div></div></a></div><div><a href="/2023/01/16/cloudflare-zero-trust-%E7%94%B3%E8%AF%B7/" title="Cloudflare Zero Trust 申请"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA5BmuHw_8AHt5jWEaJHuMfdR3Z100gACpxQAAg4EyFXcgZEmMyM-zTUE" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-01-16</div><div class="title">Cloudflare Zero Trust 申请</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)" style="display: none">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/CAACAgUAAx0Ea55INgACA8dmxVZRdYGpsxjqqiFZVAOEMqlgLgACSxAAAiKFKFYF4Wxv3uRCjzUE" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/CAACAgUAAx0Ea55INgACA8hmxVfT1e32-auU4nAu3JTyfUGCKAACTxAAAiKFKFafVBpqvcYLAzUE" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about"><h1 class="author-info__name">First</h1><div class="author-info__desc">文字记录生活</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://t.me/OOIO_ibot" target="_blank" title="Telegram"><i class="anzhiyufont anzhiyu-icon-paper-plane"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看我的博客鸭~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%8E%B7%E5%8F%96-API-%E4%BB%A4%E7%89%8C"><span class="toc-text">一、获取 API 令牌</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%87%86%E5%A4%87%E4%BE%9D%E8%B5%96"><span class="toc-text">二、准备依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F"><span class="toc-text">Linux 系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%8E%B7%E5%8F%96%E5%9F%9F%E5%90%8D-ID"><span class="toc-text">三、获取域名 ID</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F-1"><span class="toc-text">Linux 系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%9F%A5%E6%89%BE%E5%9F%9F%E5%90%8D-ID"><span class="toc-text">四、查找域名 ID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%8E%B7%E5%8F%96%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95-ID"><span class="toc-text">五、获取域名解析记录 ID</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F-2"><span class="toc-text">## Linux 系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%9F%A5%E6%89%BE%E5%9F%9F%E5%90%8D%E7%9A%84%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95-ID"><span class="toc-text">六、查找域名的解析记录 ID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E8%AE%B0%E5%BD%95"><span class="toc-text">七、更新域名解析记录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F-3"><span class="toc-text">## Linux 系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E6%88%90%E5%8A%9F%EF%BC%9F%E5%A4%B1%E8%B4%A5%EF%BC%9F"><span class="toc-text">八、成功？失败？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%85%B3%E4%BA%8E%E5%91%BD%E4%BB%A4%E4%B8%AD%E7%9A%84-JSON-%E6%95%B0%E6%8D%AE%E8%AF%B4%E6%98%8E"><span class="toc-text">九、关于命令中的 JSON 数据说明</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E8%84%9A%E6%9C%AC"><span class="toc-text">十、自动更新脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F-4"><span class="toc-text">## Linux 系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%AF%B4%E6%98%8E"><span class="toc-text">## 其他说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-text">十一、定时任务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%B3%BB%E7%BB%9F-5"><span class="toc-text">## Linux 系统</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Cron"><span class="toc-text">### 安装 Cron</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Cron"><span class="toc-text">### 配置 Cron</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/08/20/%E9%AB%98%E5%BF%97%E5%87%AF%E5%8D%8A%E5%B2%9B%E7%94%B5%E8%A7%86%E5%8F%B0%E9%87%87%E8%AE%BF%E7%B2%BE%E5%8D%8E/" title="高志凯半岛电视台采访精华"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA8Nmvcdj7dnzF_QRJ_IVhZ0enL6IHwACzQ4AAv8f6VUsYfLidNhxITUE" onerror="this.onerror=null;this.src='https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE'" alt="高志凯半岛电视台采访精华"/></a><div class="content"><a class="title" href="/2024/08/20/%E9%AB%98%E5%BF%97%E5%87%AF%E5%8D%8A%E5%B2%9B%E7%94%B5%E8%A7%86%E5%8F%B0%E9%87%87%E8%AE%BF%E7%B2%BE%E5%8D%8E/" title="高志凯半岛电视台采访精华">高志凯半岛电视台采访精华</a><time datetime="2024-08-20T19:14:54.514Z" title="发表于 2024-08-21 03:14:54">2024-08-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/10/Hexo%E6%90%AD%E5%BB%BA/" title="Hexo搭建"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA2VmuDLx4I4_cRLNkGlNv6PZ7ueJpQACJRIAAg4EwFUDhd4zH0umqjUE" onerror="this.onerror=null;this.src='https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE'" alt="Hexo搭建"/></a><div class="content"><a class="title" href="/2024/08/10/Hexo%E6%90%AD%E5%BB%BA/" title="Hexo搭建">Hexo搭建</a><time datetime="2024-08-10T00:29:31.096Z" title="发表于 2024-08-10 08:29:31">2024-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/19/verilog%E4%BA%A4%E9%80%9A%E7%81%AF%E5%AD%98%E6%A1%A3/" title="Verilog交通灯存档"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3lmuHk9vBGJzdYFRNZDa6LKLtNzlAAChxQAAg4EyFU5cZmje2TofTUE" onerror="this.onerror=null;this.src='https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE'" alt="Verilog交通灯存档"/></a><div class="content"><a class="title" href="/2024/06/19/verilog%E4%BA%A4%E9%80%9A%E7%81%AF%E5%AD%98%E6%A1%A3/" title="Verilog交通灯存档">Verilog交通灯存档</a><time datetime="2024-06-19T08:38:00.000Z" title="发表于 2024-06-19 16:38:00">2024-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/19/quartus-ii-131%E5%8F%8Amodelsim%E4%B8%8Emodelsim-altera%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" title="Quartus II 13.1及modelsim与modelsim-altera安装教程"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA2RmuDFwMoarXRnVOzkIocVSLfvQxwACIRIAAg4EwFWW78emVxAjsDUE" onerror="this.onerror=null;this.src='https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE'" alt="Quartus II 13.1及modelsim与modelsim-altera安装教程"/></a><div class="content"><a class="title" href="/2024/06/19/quartus-ii-131%E5%8F%8Amodelsim%E4%B8%8Emodelsim-altera%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" title="Quartus II 13.1及modelsim与modelsim-altera安装教程">Quartus II 13.1及modelsim与modelsim-altera安装教程</a><time datetime="2024-06-19T08:26:00.000Z" title="发表于 2024-06-19 16:26:00">2024-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/05/07/silvaco2020%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" title="Silvaco2020安装教程"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA3pmuHluaNUAAZIjOPhO27R7Pz8-BVQAAokUAAIOBMhVKGs4KffkNRY1BA" onerror="this.onerror=null;this.src='https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE'" alt="Silvaco2020安装教程"/></a><div class="content"><a class="title" href="/2024/05/07/silvaco2020%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" title="Silvaco2020安装教程">Silvaco2020安装教程</a><time datetime="2024-05-07T20:38:00.000Z" title="发表于 2024-05-08 04:38:00">2024-05-08</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="footer_deal"><a class="deal_link" href="/mail@xuei.ru" title="email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a><a class="deal_link" href="/atom.xml" title="RSS"><i class="anzhiyufont anzhiyu-icon-rss"></i></a><img class="footer_mini_logo" title="返回顶部" alt="返回顶部" onclick="anzhiyu.scrollToDest(0, 500)" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/CAACAgUAAx0Ea55INgACA8dmxVZRdYGpsxjqqiFZVAOEMqlgLgACSxAAAiKFKFYF4Wxv3uRCjzUE" size="50px"/><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/jiayihello" title="Github"><i class="anzhiyufont anzhiyu-icon-github"></i></a><a class="deal_link" href="/copyright" title="CC"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i></a></div><div id="anzhiyu-footer"><div class="footer-group"><div class="footer-title">导航</div><div class="footer-links"><a class="footer-item" title="即刻短文" href="/essay/">即刻短文</a><a class="footer-item" title="友链文章" href="/fcircle/">友链文章</a><a class="footer-item" title="留言板" href="/comments/">留言板</a></div></div><div class="footer-group"><div class="footer-title">协议</div><div class="footer-links"><a class="footer-item" title="隐私协议" href="/privacy/">隐私协议</a><a class="footer-item" title="Cookies" href="/cookies/">Cookies</a><a class="footer-item" title="版权协议" href="/copyright/">版权协议</a></div></div><div class="footer-group"><div class="footer-title-group"><div class="footer-title">友链</div><a class="random-friends-btn" id="footer-random-friends-btn" href="javascript:addFriendLinksInFooter();" title="换一批友情链接"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right"></i></a></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a><a class="github-badge" target="_blank" href="https://www.cloudflare.com/" style="margin-inline:5px" data-title="本站使用Cloudflare为静态资源提供CDN加速" title="本站使用Cloudflare为静态资源提供CDN加速"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://img.shields.io/badge/%E2%98%81%EF%B8%8FCDN-Cloudflare-f4822f" alt="本站使用Cloudflare为静态资源提供CDN加速"/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Source-Github.svg" alt="本站项目由Github托管"/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.2.0/img/badge/Copyright-BY-NC-SA.svg" alt="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2024 By <a class="footer-bar-link" href="/" title="First" target="_blank">First</a></div></div><div id="footer-type-tips"></div><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = []
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#footer-type-tips', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('footer-type-tips').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.cbd.int/typed.js@2.1.0/dist/typed.umd.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a><a class="footer-bar-link" target="_blank" rel="noopener" href="https://picture.399699.xyz/" title="图床">图床</a><a class="footer-bar-link cc" href="/copyright" title="cc协议"><i class="anzhiyufont anzhiyu-icon-copyright-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-by-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nc-line"></i><i class="anzhiyufont anzhiyu-icon-creative-commons-nd-line"></i></a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">76</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">3</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://oior.net/" title="博客(Typecho系统)"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://oior.net/img/favicon.png" alt="博客(Typecho系统)"/><span class="back-menu-item-text">博客(Typecho系统)</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">其他</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://disk.399699.xyz/" title="网盘"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA8tmxViib-Bpt4IBsvCmPPo1MLaNLwACUxAAAiKFKFZ15JfRYFeCTDUE" alt="网盘"/><span class="back-menu-item-text">网盘</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://picture.399699.xyz/" title="图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACAx5mskERB4Nxe-g_-ZaYaeiNe7h0oQACnA4AAiRFmFV7Q57JdizIiDUE&quot;" data-lazy-src="https://pict.399699.xyz/d/BQACAgUAAx0Ea55INgACA8xmxVi_5aq1eozG9prwluJEnpK-owACVBAAAiKFKFaqVEKUvwrD9jUE" alt="图床"/><span class="back-menu-item-text">图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 0.88rem;">AI<sup>1</sup></a><a href="/tags/Aria2/" style="font-size: 0.88rem;">Aria2<sup>1</sup></a><a href="/tags/Chevereto/" style="font-size: 0.88rem;">Chevereto<sup>1</sup></a><a href="/tags/CloudFlar/" style="font-size: 0.88rem;">CloudFlar<sup>2</sup></a><a href="/tags/Cloudflare/" style="font-size: 0.88rem;">Cloudflare<sup>3</sup></a><a href="/tags/Doprax/" style="font-size: 0.88rem;">Doprax<sup>1</sup></a><a href="/tags/Heroku/" style="font-size: 0.88rem;">Heroku<sup>1</sup></a><a href="/tags/Koyeb/" style="font-size: 0.88rem;">Koyeb<sup>1</sup></a><a href="/tags/MTP/" style="font-size: 0.88rem;">MTP<sup>1</sup></a><a href="/tags/PagerMaid-Pyro/" style="font-size: 0.88rem;">PagerMaid-Pyro<sup>1</sup></a><a href="/tags/Quartus-II/" style="font-size: 0.88rem;">Quartus II<sup>1</sup></a><a href="/tags/Rclone/" style="font-size: 0.88rem;">Rclone<sup>1</sup></a><a href="/tags/Silvaco/" style="font-size: 0.88rem;">Silvaco<sup>1</sup></a><a href="/tags/Telegram/" style="font-size: 0.88rem;">Telegram<sup>1</sup></a><a href="/tags/Verilog/" style="font-size: 0.88rem;">Verilog<sup>1</sup></a><a href="/tags/Virtualizor/" style="font-size: 0.88rem;">Virtualizor<sup>1</sup></a><a href="/tags/WHMCS/" style="font-size: 0.88rem;">WHMCS<sup>1</sup></a><a href="/tags/hexo/" style="font-size: 0.88rem;">hexo<sup>1</sup></a><a href="/tags/modelsim/" style="font-size: 0.88rem;">modelsim<sup>1</sup></a><a href="/tags/modelsim-altera/" style="font-size: 0.88rem;">modelsim-altera<sup>1</sup></a><a href="/tags/%E4%BC%98%E9%80%89IP/" style="font-size: 0.88rem;">优选IP<sup>4</sup></a><a href="/tags/%E5%9B%BE%E5%BA%8A/" style="font-size: 0.88rem;">图床<sup>1</sup></a><a href="/tags/%E5%A4%87%E4%BB%BD/" style="font-size: 0.88rem;">备份<sup>1</sup></a><a href="/tags/%E6%9C%BA%E5%99%A8%E4%BA%BA/" style="font-size: 0.88rem;">机器人<sup>1</sup></a><a href="/tags/%E6%A0%A1%E5%9B%AD%E7%BD%91/" style="font-size: 0.88rem;">校园网<sup>2</sup></a><a href="/tags/%E8%84%9A%E6%9C%AC/" style="font-size: 0.88rem;">脚本<sup>1</sup></a><a href="/tags/%E8%A7%86%E9%A2%91/" style="font-size: 0.88rem;">视频<sup>1</sup></a><a href="/tags/%E8%AE%B0%E4%BA%8B%E6%9C%AC/" style="font-size: 0.88rem;">记事本<sup>1</sup></a><a href="/tags/%E8%BD%AC%E5%8F%91/" style="font-size: 0.88rem;">转发<sup>1</sup></a><a href="/tags/%E9%87%87%E8%AE%BF/" style="font-size: 0.88rem;">采访<sup>1</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("06/08/2024 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2024 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 First 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const initWaline = () => {
    const waline = Waline.init(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://waline-77ngj0sky-eryba218gmailcoms-projects.vercel.app',
      pageview: true,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, null))
  }

  const loadWaline = async () => {
    if (typeof Waline === 'object') initWaline()
    else {
      await getCSS('https://cdn.cbd.int/@waline/client@2.15.5/dist/waline.css')
      await getScript('https://cdn.cbd.int/@waline/client@2.15.5/dist/waline.js')
      initWaline()
    }
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) anzhiyu.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = async () => {
    try {
      const res = await fetch('https://waline-77ngj0sky-eryba218gmailcoms-projects.vercel.app/api/comment?type=recent&count=6', { method: 'GET' })
      const result = await res.json()
      const walineArray = result.data.map(e => {
        return {
          'content': changeContent(e.comment),
          'avatar': e.avatar,
          'nick': e.nick,
          'url': e.url + '#' + e.objectId,
          'date': e.time || e.insertedAt
        }
      })
      saveToLocal.set('waline-newest-comments', JSON.stringify(walineArray), 10/(60*24))
      generateHtml(walineArray)
    } catch (err) {
      console.error(err)
      const $dom = document.querySelector('#card-newest-comments .aside-list')
      $dom.textContent= "无法获取评论，请确认相关配置是否正确"
    }
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('waline-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: true,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', 'G-1N45T8T0T3', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>